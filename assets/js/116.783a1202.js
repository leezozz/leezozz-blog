(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{527:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("webstorage是本地存储，存储在客户端，包括localStorage和sessionStorage"),s("br"),t._v("\ncookie 是有时间限制的，根据生命期不同分成两种：会话 cookie 和持久 cookie；"),s("br")]),t._v(" "),s("ul",[s("li",[t._v("如果不设置过期时间，则表示这个 cookie 的生命周期为从创建到浏览器关闭为止，只要关闭浏览器窗口，cookie 就消失了。这种生命期为浏览会话期的 cookie 被称为会话 cookie。会话 cookie 一般不保存在硬盘上而是保存在内存里。")]),t._v(" "),s("li",[t._v("如果设置了过期时间 (setMaxAge (606024))，浏览器就会把 cookie 保存到硬盘上，关闭后再次打开浏览器，这些 cookie 依然有效直到超过设定的过期时间。存储在硬盘上的 cookie 可以在不同的浏览器进程间共享，比如两个 IE 窗口。而对于保存在内存的 cookie，不同的浏览器有不同的处理方式。")])]),t._v(" "),s("h3",{attrs:{id:"区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#区别"}},[t._v("#")]),t._v(" 区别：")]),t._v(" "),s("ol",[s("li",[t._v("存储大小：")])]),t._v(" "),s("ul",[s("li",[t._v("Cookie：最大4KB")]),t._v(" "),s("li",[t._v("localStorage：最大5MB")]),t._v(" "),s("li",[t._v("sessionStorage：最大5MB")])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("生命周期：")])]),t._v(" "),s("ul",[s("li",[t._v("Cookie：可以设置过期时间，过期后自动删除；")]),t._v(" "),s("li",[t._v("localStorage：除非主动删除，否则永久保存在本地；")]),t._v(" "),s("li",[t._v("sessionStorage：仅在当前会话有效，关闭窗口或标签页时自动删除。")])]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("与服务器的通信：")])]),t._v(" "),s("ul",[s("li",[t._v("Cookie：每次向服务器发送请求时都会自动携带在HTTP头中；Cookie附带在http请求上，数量过大，会导致每个http请求就非常庞大，造成性能浪费")]),t._v(" "),s("li",[t._v("localStorage和sessionStorage：仅保存在客户端本地，不会自动发送给服务器。")])]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[t._v("API "),s("br"),t._v("\nCookie："),s("br")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("document.cookie")]),t._v("：用于设置和获取Cookie")]),t._v(" "),s("li",[s("code",[t._v("navigator.cookieEnabled")]),t._v("：用于检测浏览器是否支持Cookie "),s("br")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Cookie "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'js-cookie'")]),t._v("\nCookie"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nCookie"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nCookie"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("localStorage和seesionStorage："),s("br")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("window.localStorage")]),t._v("和"),s("code",[t._v("window.sessionStorage")]),t._v("：用于设置和获取本地存储的值")]),t._v(" "),s("li",[s("code",[t._v("localStorage.clear()")]),t._v("和"),s("code",[t._v("sessionStorage.clear()")]),t._v("：用于清空本地存储")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 增加 localStorage 项")]),t._v("\nlocalStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myCat'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Tom'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 读取 localStorage 项")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" cat "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" localStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myCat'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除 localStorage 项")]),t._v("\nlocalStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myCat'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除所有")]),t._v("\nlocalStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clear")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("table",[s("thead",[s("tr",[s("th",[t._v("--")]),t._v(" "),s("th",[t._v("存储大小")]),t._v(" "),s("th",[t._v("生命周期")]),t._v(" "),s("th",[t._v("与服务器通信")]),t._v(" "),s("th",[t._v("作用域")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Cookie")]),t._v(" "),s("td",[t._v("<=4KB")]),t._v(" "),s("td",[t._v("可以设置过期时间，过期后自动删除（不设置，默认是到浏览器关闭）")]),t._v(" "),s("td",[t._v("每次向服务器发请求时都会自动携带在HTTP头中（Cookie附带在http请求上，数量过大，会导致每个http请求就非常庞大，造成性能浪费）")]),t._v(" "),s("td",[t._v("在所有同源窗口中都是共享的")])]),t._v(" "),s("tr",[s("td",[t._v("localStorage")]),t._v(" "),s("td",[t._v("5MB")]),t._v(" "),s("td",[t._v("除非主动删除，否则永久保存在本地")]),t._v(" "),s("td",[t._v("仅保存在客户端本地，不会自动发送给服务器")]),t._v(" "),s("td",[t._v("在所有同源窗口中都是共享的")])]),t._v(" "),s("tr",[s("td",[t._v("sessionStorage")]),t._v(" "),s("td",[t._v("5MB")]),t._v(" "),s("td",[t._v("仅在当前会话有效，关闭窗口或标签页时自动删除")]),t._v(" "),s("td",[t._v("仅保存在客户端本地，不会自动发送给服务器")]),t._v(" "),s("td",[t._v("当前窗口或标签页中，不同的页面无法共享同一份数据")])])])]),t._v(" "),s("h3",{attrs:{id:"共同点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#共同点"}},[t._v("#")]),t._v(" 共同点：")]),t._v(" "),s("ul",[s("li",[t._v("注意：Cookie、localStorage、sessionStorage都是以明文形式存储在客户端的浏览器中，不适合存储敏感信息")])]),t._v(" "),s("h3",{attrs:{id:"使用场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用场景"}},[t._v("#")]),t._v(" 使用场景：")]),t._v(" "),s("ol",[s("li",[t._v("Cookie：可以用于存储用户的身份认证信息、购物车信息等（设计初衷用于维护HTTP状态，不用于存储数据）")]),t._v(" "),s("li",[t._v("localStorage和sessionStorage：主要用于在同一浏览器窗口下共享数据，比如表单数据、用户设置等。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);